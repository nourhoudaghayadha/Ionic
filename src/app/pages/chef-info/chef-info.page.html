<ion-header>
  <ion-toolbar color="danger">
    <ion-button slot="start" class="menu_btn" (click)="goToAddPage()">
      <ion-back-button color="light" defaultHref="search-chef"></ion-back-button>
    </ion-button>
    <ion-title>Informations du Repas</ion-title>
    <img slot="end" src="../../assets/001.jpeg">
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <form #repasForm="ngForm" (ngSubmit)="onSubmit(repasForm)">
    
    <ion-item>
      <ion-label position="floating">Nom du repas</ion-label>
      <ion-input name="nom" type="text" [(ngModel)]="currentRepas.nom" required></ion-input>
    </ion-item>
    
    <ion-item>
      <ion-label position="floating">Compétences culinaires</ion-label>
      <ion-select name="skills" multiple="true" required [(ngModel)]="selectedSkills" (ionChange)="onSkillChange()">
        <ion-select-option value="cuisine_americaine">Cuisine Américaine</ion-select-option>
        <ion-select-option value="cuisine_asie">Cuisine Asiatique</ion-select-option>
        <ion-select-option value="cuisine_europeenne">Cuisine Européenne</ion-select-option>
        <ion-select-option value="cuisine_africaine">Cuisine Africaine</ion-select-option>
        <ion-select-option value="autre">Autre</ion-select-option>
      </ion-select>
    </ion-item>

    <ion-item *ngIf="showOtherInput">
      <ion-label position="floating">Autre compétence</ion-label>
      <ion-input type="text" [(ngModel)]="otherSkill" name="otherSkill"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Types de plats proposés</ion-label>
      <ion-select name="typesFood" multiple="true" required [(ngModel)]="currentRepas.typesFood">
        <ion-select-option value="plat_principal">Plat Principal</ion-select-option>
        <ion-select-option value="entree">Entrée</ion-select-option>
        <ion-select-option value="dessert">Dessert</ion-select-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Localisation</ion-label>
      <ion-input name="localisation" type="text" [(ngModel)]="currentRepas.localisation" required></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Prix</ion-label>
      <ion-range name="prix" [(ngModel)]="prix" min="0" max="1000" pin="true" snaps="true" color="danger">
        <ion-label slot="start">$5</ion-label>
        <ion-label slot="end">$100</ion-label>
      </ion-range>
    </ion-item>

    <ion-item>
      <ion-label>Image</ion-label>
      <input type="file" (change)="onFileSelected($event)" name="image">
    </ion-item>

    <ion-button expand="full" type="submit" [disabled]="repasForm.invalid">Soumettre</ion-button>
  </form>
</ion-content>
